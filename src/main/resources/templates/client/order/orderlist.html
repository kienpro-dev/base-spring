<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{client/layout.html}">

<head>
    <title>Danh sách đặt hàng</title>
</head>

<body>
<div layout:fragment="content">
    <div class="page-header text-center"
         style="background-image: url('../client/assets/images/page-header-bg.jpg')">
        <div class="container">
            <h1 class="page-title">
                Đặt hàng<span>Cửa hàng</span>
            </h1>
        </div>
        <!-- End .container -->
    </div>
    <!-- End .page-header -->
    <nav aria-label="breadcrumb" class="breadcrumb-nav">
        <div class="container">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a th:href="@{/car/home}">Trang
                    chủ</a></li>
                <li class="breadcrumb-item"><a th:href="@{/car/client}">Cửa
                    hàng</a></li>
                <li class="breadcrumb-item active" aria-current="page">Danh
                    sách đặt xe
                </li>
            </ol>
        </div>
        <!-- End .container -->
    </nav>
    <!-- End .breadcrumb-nav -->

    <div class="page-content">
        <div class="container">
            <table class="table table-wishlist table-mobile">
                <thead>
                <tr>
                    <th>Mã đơn</th>
                    <th>Ngày đặt</th>
                    <th>Tổng tiền</th>
                    <th>Phương thức thanh toán</th>
                    <th>Ngày thuê</th>
                    <th>Ngày trả</th>
                    <th>Trạng thái</th>
                    <th></th>
                    <!--                    <th></th>-->
                </tr>
                </thead>

                <tbody>
                <tr th:each="item, i : ${list}"
                    style="font-size: 1, 6rem; font-weight: 400;">
                    <td th:text="${item.bookingNo}"></td>
                    <td th:text="${#temporals.format(item.createdDate, 'yyyy-MM-dd HH:mm')}"></td>
                    <td
                            th:text="${#numbers.formatDecimal(item.getTotal(), 0, 'COMMA', 0, 'POINT')} + ' VND'"></td>
                    <td>
                        <div
                                th:switch="${item.paymentMethod}">
                            <p th:case="'wallet'" class="text-success">Thanh toán ví điện tử</p>
                            <p th:case="'cash'" class="text-warning">Nhận tiền khi giao xe</p>
                            <p th:case="'vnpay'" class="text-primary">Chuyển khoản VNPAY</p>
                        </div>

                    </td>
                    <td th:text="${#temporals.format(item.startDate, 'yyyy-MM-dd HH:mm')}"></td>
                    <td th:text="${#temporals.format(item.endDate, 'yyyy-MM-dd HH:mm')}"></td>
                    <td>
                        <div
                                th:switch="${item.status}">
                            <p th:case="'PENDING_DEPOSIT'" class="text-warning">Đang
                                chờ xác nhận</p>
                            <p th:case="'PENDING_PAY'" class="text-warning">Đang
                                chờ thanh toán</p>
                            <p th:case="'CONFIRM'" class="text-info">Đã xác nhận</p>
                            <p th:case="'CANCEL'" class="text-danger">Đã hủy</p>
                            <p th:case="'COMPLETED'" class="text-success">Đã hoàn thành</p>
                            <p th:case="'IN_PROGRESS'" class="text-primary">Đang thuê</p>
                        </div>
                    </td>
                    <td th:switch="${item.status}" class="col-2 ">
                        <div th:case="'CONFIRM'" class="d-flex">
                            <a class="btn btn-info"
                               style="padding: 5px 0; width: 20%"
                               role="button"
                               href="#orderView-modal" data-toggle="modal"
                               th:data-id="${item.id}"
                               th:onclick="orderView(this.getAttribute('data-id'))"> Chi tiết</a>
                            <a style="padding: 5px 0; width: 20%"
                               class="btn btn-secondary active"
                               role="button" aria-pressed="true"
                               th:href="@{/car/booking/confirm-pick-up(id=${item.id})}">Đã nhận
                                xe</a>
                            <a style="padding: 5px 0; width: 20%" class="btn btn-danger active"
                               role="button" aria-pressed="true"
                               th:href="@{/car/booking/cancel(id=${item.id})}">Hủy đặt</a>
                        </div>
                        <div th:case="'PENDING_DEPOSIT'" class="d-flex">
                            <a class="btn btn-info"
                               style="padding: 5px 0; width: 30%"
                               role="button"
                               href="#orderView-modal" data-toggle="modal"
                               th:data-id="${item.id}"
                               th:onclick="orderView(this.getAttribute('data-id'))"> Chi tiết</a>
                            <a style="padding: 5px 0; width: 30%" class="btn btn-danger active"
                               role="button"
                               th:data-id="${item.id}"
                               th:onclick="cancelSubmit(this.getAttribute('data-id'))">Hủy đặt</a>
                        </div>
                        <div th:case="'IN_PROGRESS'" class="d-flex">
                            <a class="btn btn-info"
                               style="padding: 5px 0; width: 30%"
                               role="button"
                               href="#orderView-modal" data-toggle="modal"
                               th:data-id="${item.id}"
                               th:onclick="orderView(this.getAttribute('data-id'))"> Chi tiết</a>
                            <a style="padding: 5px 0; width: 30%" class="btn btn-danger active"
                               role="button" aria-pressed="true"
                               th:href="@{/car/booking/return-car(id=${item.id})}">Trả xe</a>
                        </div>
                        <div th:case="'PENDING_PAY'" class="d-flex">
                            <a class="btn btn-info"
                               style="padding: 5px 0; width: 30%"
                               role="button"
                               href="#orderView-modal" data-toggle="modal"
                               th:data-id="${item.id}"
                               th:onclick="orderView(this.getAttribute('data-id'))"> Chi tiết</a>
                        </div>
                        <div th:case="'CANCEL'" class="d-flex">
                            <a class="btn btn-info"
                               style="padding: 5px 0; width: 30%"
                               role="button"
                               href="#orderView-modal" data-toggle="modal"
                               th:data-id="${item.id}"
                               th:onclick="orderView(this.getAttribute('data-id'))"> Chi tiết</a>
                        </div>
                        <div th:case="'COMPLETED'" class="d-flex">
                            <a class="btn btn-info"
                               style="padding: 5px 0; width: 30%"
                               role="button"
                               href="#orderView-modal" data-toggle="modal"
                               th:data-id="${item.id}"
                               th:onclick="orderView(this.getAttribute('data-id'))"> Chi tiết</a>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
            <!-- End .table table-wishlist -->
            <div class="wishlist-share">
                <div class="social-icons social-icons-sm mb-2">
                    <label class="social-label">Chia sẻ:</label> <a href="#"
                                                                    class="social-icon" title="Facebook"
                                                                    target="_blank"><i
                        class="icon-facebook-f"></i></a> <a href="#" class="social-icon"
                                                            title="Twitter" target="_blank"><i class="icon-twitter"></i></a>
                    <a href="#" class="social-icon" title="Instagram" target="_blank"><i
                            class="icon-instagram"></i></a> <a href="#" class="social-icon"
                                                               title="Youtube" target="_blank"><i
                        class="icon-youtube"></i></a>
                    <a href="#" class="social-icon" title="Pinterest" target="_blank"><i
                            class="icon-pinterest"></i></a>
                </div>
                <!-- End .soial-icons -->
            </div>
            <!-- End .wishlist-share -->
        </div>
        <!-- End .container -->
    </div>
    <!-- End .page-content -->
</div>
</body>

</html>